repos:
  - repo: local
    hooks:
      # png image compress
      - id: oxipng
        name: oxipng
        entry: oxipng
        language: system
        files: ^assets/.+$
        types: [png]
      # fix Chinese and English
      - id: autocorrect
        name: autocorrect
        entry: autocorrect
        args: ["--fix"]
        language: system
      - id: normalize-yaml
        name: Normalize YAML front matter
        entry: uv run scripts/normalize_yaml.py
        language: system
        files: ^notes/.*\.md$
      - id: generate-notes-index
        name: Generate notes index
        entry: uv run scripts/generate_notes_index.py
        language: system
        pass_filenames: false
        files: ^notes/.*\.md$
      # fix url that not available.
      - id: lychee
        name: lychee
        language: docker_image
        entry: lycheeverse/lychee:0.15.1
        args: ["--no-progress", "--exclude-path", "assets"]
