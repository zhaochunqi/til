repos:
  - repo: local
    hooks:
      # # fix Chinese and English
      # - id: autocorrect
      #   name: autocorrect
      #   entry: autocorrect
      #   args: ["--fix"]
      #   language: system
      - id: normalize-yaml
        name: Normalize YAML front matter
        entry: uv run scripts/normalize_yaml.py
        language: system
        files: ^notes/.*\.md$
      - id: generate-notes-index
        name: Generate notes index
        entry: uv run scripts/generate_notes_index.py
        language: system
        pass_filenames: false
        files: ^notes/.*\.md$
      # # fix url that not available.
      # - id: lychee
      #   entry: lychee
      #   language: system
      #   name: lychee
      #   args: ["--no-progress", "--exclude-path", "assets"]
      #   files: ^notes/.*\.md$
  - repo: https://github.com/oxipng/oxipng
    rev: v10.0.0
    hooks:
      - id: oxipng
        files: ^assets/.+$
